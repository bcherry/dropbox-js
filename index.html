<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Dropbox JS API</title>
</head>
<body>
    <form id="form">
    <p>
        <label>
            Api Key
            <input type="text" id="key" placeholder="api key" />
        </label>
    </p>
    <p>
        <label>
            Api Secret
            <input type="text" id="secret" placeholder="api secret" />
        </label>
    </p>
    <p>
        <input type="submit" id="auth" value="Setup"/>
    </p>
    </form>
    <ol>
        <li id="step1" class="step"><a href="#" id="auth_url" target="_blank">Authorize</a></li>
        <li id="step2" class="step"><a href="javascript:void(0);" id="access">getAccessToken</a></li>
        <li id="step3" class="step"><a href="javascript:void(0);" id="account">Get Account Info</a></li>
    </ol>
    <script src="jquery-1.4.3.js"></script>
    <script src="oauth.js"></script>
    <script src="sha1.js"></script>
    <script src="dropbox.js"></script>
    <script>
    $(function() {
        $(".step").hide();
        
        $("#form").submit(function() {
            var key = "maemynugf99ahny";//$("#key").val(),
                secret = "p54taoi929511jr";//$("#secret").val();
            dropbox.setup(key, secret);
            
            dropbox.getRequestToken(function() {
                var authUrl = dropbox.getAuthorizeUrl();
                console.log(authUrl);
                $("#auth_url").attr("href", authUrl);
                $("#step1").show();
            });
            return false;
        });
        
        $("#auth_url").click(function() {
            $("#step2").show();
        });
        
        $("#access").click(function() {
            dropbox.getAccessToken(function() {
                $("#step3").show();
            });
        });
        
        $("#account").click(function() {
            dropbox.getAccountInfo();
        });
    });
  </script>
</body>
</html>